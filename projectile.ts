function doSwordProjectile() {
    if (state == "RIGHT") {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . 8 . . . . . . . . . . .
            . . . . 8 . . . . . . . . . . .
            8 9 8 9 8 1 1 1 1 1 1 1 1 1 1 .
            8 9 8 9 8 1 1 1 1 1 1 1 1 1 1 1
            8 9 8 9 8 1 1 1 1 1 1 1 1 1 1 .
            . . . . 8 . . . . . . . . . . .
            . . . 8 8 . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
        `, link, 100, 0)
    } else if (state == "LEFT") {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . 8 8 . . .
            . . . . . . . . . . . 8 . . . .
            . 1 1 1 1 1 1 1 1 1 1 8 9 8 9 8
            1 1 1 1 1 1 1 1 1 1 1 8 9 8 9 8
            . 1 1 1 1 1 1 1 1 1 1 8 9 8 9 8
            . . . . . . . . . . . 8 . . . .
            . . . . . . . . . . . 8 . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
            . . . . . . . . . . . . . . . .
        `, link, -100, 0)
    } else if (state == "UP") {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . . 1 . . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . 8 8 8 8 8 8 8 . . . . .
            . . . . . . 9 9 9 . 8 . . . . .
            . . . . . . 8 8 8 . . . . . . .
            . . . . . . 9 9 9 . . . . . . .
            . . . . . . 8 8 8 . . . . . . .
        `, link, 0, -100)
    } else if (state == "DOWN") {
        projectile = sprites.createProjectileFromSprite(img`
            . . . . . . 8 8 8 . . . . . . .
            . . . . . . 9 9 9 . . . . . . .
            . . . . . . 8 8 8 . . . . . . .
            . . . . . . 9 9 9 . 8 . . . . .
            . . . . 8 8 8 8 8 8 8 . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . 1 1 1 . . . . . . .
            . . . . . . . 1 . . . . . . . .
        `, link, 0, 100)
    } else {

    }
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    doSwordProjectile()
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    ghost.destroy(effects.fire, 100)
})